---
{"dg-publish":true,"permalink":"/laboratornaya-rabota-1-izbiratelnaya-model-upravleniya-dostupom-na-primere-os-linux/","tags":["gardenEntry"],"dgShowFileTree":true}
---


---
#  2022-ФГиИБ-ИБ-1б Некрасова Валерия 
---
### 1. Создание пользователей 
**1.1. Создать 3 новых пользвателя (user1, user2, user3). Создать для них домашнии директории и установить shell-оболочку по умолчанию (/bin/sh)**

С помощью команды `adduser -D -s /bin/sh` создаем трех пользователей.

![Снимок экрана (1).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(1).png)

**1.2. Проверить, что пользователи и домашние директории были созданы. Проверить группы, которым принадлежат пользователи.**

С помощью команды `cat /etc/passwd`  созданы ли пользователи в домашней директории.
![Снимок экрана (2).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(2).png)
Видим, что все успешно создано.
Объясните, что значат числа в /etc/passwd.
Рассмотрим числа на примере us1:
1003 - UID - Уникальный идентификатор пользователя. Это число, которое система использует для идентификации пользователя.
1003 - GID - Уникальный идентификатор группы, к которой принадлежит пользователь. Это число ссылается на запись в файле `/etc/group`, где указаны группы пользователей.

Теперь проверим группы, которым принадлежат пользователи с помощью команды 
`cat /etc/group`
![Снимок экрана (3).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(3).png)
(Черным замазан сериал, извините))))).

**1.3. Просмотреть файл /etc/shadow, объяснить его структуру.**

С помощью команды `/etc/shadow` смотрим файл 
![Снимок экрана (16) 1.png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(16)%201.png)
Структура /etc/shadow
1. Имя пользователя.
2. Хэш пароля.
3. Дата последнего изменения пароля.
4. Минимальное количество дней, которое должно пройти перед тем, как пользователь сможет изменить свой пароль. В случае если число - 0, то пользователь может изменить пароль незамедлительно.
5. Максимальное количество дней, в течение которых пароль остается действительным. Как только срок подходит к концу, пользователь будет вынужден изменить пароль(обновить).
6. Количество дней, за которые пользователь будет предупрежден о том, что его пароль скоро истечет. Это предупреждение обычно отправляется пользователю при входе в систему.
7. Количество дней после истечения срока действия пароля, в течение которых учетная запись остается активной. Если пользователь не изменит пароль в этот срок, учетная запись будет отключена.
8. Дата истечения учетной записи.
9. Резервное поле, которое обычно не используется.

Какой алгоритм хэширования используется? Измените пароль какого-либо пользователя, посмотрите, что изменилось?
Используется SHA-512. SHA-512 (Secure Hash Algorithm 512) — это криптографическая хэш-функция, которая генерирует 512-битный (64-байтовый) хэш.
После изменения пароля с помощью команды `passwd us3` смотрим, что произошло 
![Снимок экрана (17).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(17).png)
Можно заметить, что после изменения пароля обновился сам хэш пароля. Еще и изменилась дата последнего изменения пароля.

**1.4. Создайте новую группу, которая будет включать двух из трех пользователей (user1, user2). Удалите группы тех пользователей, которых вы объединили (user1, user2).**

С помощью команды `addgroup wow` создаем новую группу, а с помощью `addgroup us1 wow` и `addgroup us2 wow` добавляем 1 и 2 пользователя
![Снимок экрана (5).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(5).png)
Теперь проверим присутствие пользователей в группе.
![Снимок экрана (6).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(6).png)
С помощью команды `delgroup us1` и `delgroup us2` можно удалить пользователей.


#### 2. Разрешения
**2.1. Авторизуйтесь под первым пользователем (user1). Создайте файл в домашней директории пользователя, проверьте разрешения по умолчанию.**

Заходим под первого пользователя.
![Снимок экрана (7).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(7).png)
Теперь создаем файл в домашней директории `touch 1.txt` и проверяем разрешения `ls -l`
![Снимок экрана (8).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(8).png)
Рассмотрим что значит -rw-r--r--:
1. rw - права владельца на чтение и запись в файле.
2. r-- - пользователь той же группы могут читать, но не могут ничего записывать в файл и выполнять его.
3. r-- - другие пользователи могут читать, но не могут ничего записывать в файл и выполнять его.

**2.2. Измените права таким образом, чтобы пользователь той же группы (user2) мог редактировать файл, а отдельный (user3) - не мог видеть и редактировать.**

Изменяем права с помощью команды `chmod 660` или `chmod g+w,o+r 1.txt`
![Снимок экрана (9).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(9).png)
У нас получается -rw-rw----:
1. rw- права владельца на чтение и запись в файле.
2. rw- - пользователь той же группы может читать и редактировать файл
3. -- - другие пользователи не могут читать и редактировать файл.

**2.3. Измените права на файл таким образом, чтобы владелец (user1) и отдельный пользватель (user3) могли читать и редактировать файл, а второй пользователь (user2) - нет.**

Делаем это с помощью команды `chmod 606 1.txt` или `chmod g-rw,o+rw 1.txt`
![Снимок экрана (10).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(10).png)
Получаем -rw----rw-:
1. rw- права владельца на чтение и запись в файле.
2. -- - пользователи той же группы не могут читать и редактировать файл.
3. rw - другие пользователи  могут читать и редактировать файл.

**2.4. Создайте директорию, поместите в нее несколько файлов. Повторите шаг 2.2 и 2.3 для директории и файлов внутри нее.**

Для начала создадим директорию `mkdir d1` и перейдём в неё `cd d1/`. Далее создаём два файла в этой директории `touch 2.txt` и `touch 3.txt`. Проверяем, что все создалось.
![Снимок экрана (11).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(11).png)
Меняем разрешения.
![Снимок экрана (12).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(12).png)

**2.5. Создайте скрипт на ЯП Python с расширением *.py. Задайте ему шебанг. Попробуйте запустить скрипт самостоятельно, без вызова интерпретатора.**

С этого момента начинаются скрины с разными датами, потому что уже по факту приходило понимание, что что-то забылось.
Создаём скрипт с расширением .py `touch hello.py`.
![Снимок экрана (13).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(13).png)
Далее с помощью редактора `vi` редактируем скрипт. Прописывает шебанг и самый простой скрипт.
![Снимок экрана (21).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(21).png)
Главное не забыть установить python с помощью команды `apk add python3`.
Даём разрешение на исполнение скрипта пользователю.
![Снимок экрана (15).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(15).png)
А теперь запускаем скрипт с помощью `./hello.py`
![Снимок экрана (23).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(23).png)
Объясните, что происходит. Сделайте так, чтобы скрипт выполнился (без вызова интерпретатора).
1. Шебанг. Строка `#!/usr/bin/env python` указывает операционной системе, что данный файл должен быть выполнен с использованием интерпретатора Python 3. Это позволяет запускать скрипт как исполняемый файл.
2. Команда `chmod u+x` изменяет права доступа к файлу, позволяя его запускать как программу. Без этих прав получится ошибку при попытке запуска.
3. При выполнении `./hello.py` операционная система использует шебанг для определения, какой интерпретатор использовать, и запускает скрипт.

#### 3. Специальные разрешения

**3.1. Что делает следующая команда?**
Команда `chmod` используется для изменения прав доступа к файлам и директориям. Теперь разберем что значат числа в команде `chmod 4762 filename`:
1. Первое число 4 указывает специальные права. Это r-- (чтение) для владельца, но также указывает на то, что когда файл запускается, он будет выполняться с правами владельца файла.
2. Вторая цифра 7 указывает права владельца. Это rwx (чтение, запись и выполнение). Владелец файла может читать, записывать и выполнять файл.
3. Третья цифра 6 указывает права для групп. Это rw-(чтение и запись). Члены группы могут читать и записывать файл, но не могут его выполнять.
4. Четвертая цифра 2 указывает права для других пользователей. Это -w- (только запись). Другие пользователи могут только записывать в файл, но не могут его читать или выполнять.
Из этого всего можно сделать вывод, что Команда `chmod 4762 filename` изменяет права доступа к файлу `filename` следующим образом:
- Владелец: имеет права на чтение, запись и выполнение (rwx).
- Группа: имеет права на чтение и запись (rw-).
- Другие пользователи: могут только записывать в файл (-w-).
- Установлен бит setuid, что позволяет исполняемому файлу запускаться с правами владельца.

**3.2. Зайдите под первым пользователем (user1) и создайте директорию (например, dir1), внутрь поместите несколько исполняемых скриптов с расщирением *.py. Для этой директории рекурсивно установите UID, GID и Sticky Bit. Дайте скриптам права на исполнение.**

Заходим под первого пользователя и создаём новую директорию `mkdir d2`. С помощью команды `touch 1.py` создаём скрипт с расширением .py. По такому же принципу создаём ещё два скрипта. Сразу выдаём права на исполнение.
![Снимок экрана (24).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(24).png)
![Снимок экрана (26).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(26).png)
Далее нужно рекурсивно установить UID, GIT, Sticky Bit. 
SETUID - установить идентификатор пользователя при исполнении
SETGID - установить идентификатор группы при исполнении
StickyBit - перевести директорию в sticky-режим (sticky mode).
Это всё мы делаем с помощью команды `chmod -R u+s, g+s,+t d2`, где:
- -R: Опция для рекурсивного применения изменений ко всем файлам и поддиректориям внутри указанной директории.
- u+s: Устанавливает бит setuid для владельца.
- g+s: Устанавливает бит setgid для группы.
- +t: Устанавливает Sticky Bit для директории.
![Снимок экрана (28).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(28).png)
Как изменился вывод ls -l?
У нас получается, что владелец имеет права на чтение, запись и выполнение, и файл будет выполняться с правами владельца. Члены группы имеют права на чтение и выполнение, но не могут записывать. Другие пользователи имеют права на чтение, но не могут записывать или выполнять, и только владельцы файлов могут удалять или переименовывать файлы в этой директории.

**3.3. Удалите права на исполнения для всего в домашней директории.**

Удаляем права на использование для всего в домашней директории с помощью команды `chmod a-x 1.txt d1/ d2/ hello.py`
![Снимок экрана (29).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(29).png)

**3.4. Установите для созданной директории (dir1) права таким образом, чтобы пользователи из других групп могли осуществлять навигацию и читать файлы внутри.**

C помощью команды `chmod 4755 ...`  устанавливаем права таким образом, что пользователи из других могли осуществлять навигацию и читать файлы внутри.
1. 4: Устанавливает бит setuid. Это означает, что при выполнении этого файла он будет запускаться с правами владельца файла, а не с правами пользователя, который его запустил.
2. 7: Это сумма прав на чтение (4), запись (2) и выполнение (1). Таким образом, владелец имеет полные права: `rwx`.
3. 5: Это сумма прав на чтение (4) и выполнение (1), но без права на запись (0). Таким образом, группа имеет права: `r-x`.
4. 5: Аналогично правам для группы, другие пользователи имеют права: `r-x`.
![Снимок экрана (30).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(30).png)
Затем изменим владельца этой директории
![Снимок экрана (31).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(31).png)


**3.5. Авторизуйтесь в системе под вторым пользователем (user2) и создайте директорию {user2}_share. Установите разрешения таким образом, чтобы второй пользователь мог делиться файлами с первым (user1) и отдельным (user3)**.

Первым делом переходим на user2 с помощью команды `su - us2`. Далее создаем новую директорию `mkdir us2_share`.
![Снимок экрана (33).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(33).png)Далее ставим разрешение на все всем пользователям и Siky-Bit
![Снимок экрана (34).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(34).png)
Cоздаём файлы в директории от каждого пользователя. Проверка-это может ли пользователь us3(я забыла пароль от us3, поэтому использовала user3) удалить файл, созданный пользователем us1
![Снимок экрана (35).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(35).png)
![Снимок экрана (36).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(36).png)
Ответ нет, не может. При редактировании с помощью `vi` выдает пустой файл. Чтение с помощью `cat` возможно.
Теперь проверяем возможно ли переименовать.
![Снимок экрана (37).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(37).png)
Ответ нет, невозможно.

**3.6. Создайте файл sensetive_data от имени второго пользователя (user2) и запишите в него какую-либо текстовую информацию. Уберите разрешения для группы и всех остальных.**

Вновь переходим под второго пользователя и создаём новую директорию
![Снимок экрана (38).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(38).png)
Теперь записываем что-то внутрь.
![Снимок экрана (39).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(39).png)
Вот теперь переходим следующему шагу. Убераем разрешение для группы и всех остальных.
![Снимок экрана (40).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(40).png)
Авторизуйтесь под отдельным пользователем (user3), попытайтесь прочитать файл **sensetive_data** с помощью утилиты **cat**.
Под отдельным пользователем мы авторетезировались под прошлым скрином. Теперь попробуем прочитать файл.
![Снимок экрана (41).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(41).png)
Ответ: недостаточно прав для чтения.
Попытайтесь прочитать файл с помощью утилиты **vi**.
С помощью команды `vi ...` пробуем прочитать файл.
![Снимок экрана (42).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(42).png)
Ответ: пусттота.
_Установите SUID bit на **vi** (от имени суперпользователя)._

Попробуйте снова прочитать файл под отдельным пользователем (**user3**).

Что происходит? Объясните.
Переходим под основного пользователя и устанавливаем busybox-suid. С первого раза не удалось, но при 3 попытке все установилось без ошибок.
Далее устанавливаем  suid-bit на  bsubybox
![Снимок экрана (43).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(43).png)
Теперь попробуем прочитать файл от 3 пользователя. Для этого переходим на пользователя 3 `su user3` и используем команду `vi ...`
![Снимок экрана (44).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(44).png)
Ответ: пустота. 
Попробуем другое решение.
Устанавливаем редактор vim  и устанавливаем на него SUID-бит.
![Снимок экрана (46).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(46).png)
Теперь переходим внов под 3 пользователя и пробуем прочитать.
![Снимок экрана (48).png](/img/user/%D0%91%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%201/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20(48).png)
Всё получилось!!!

